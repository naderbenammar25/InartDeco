<!-- Chemin : templates/boutique/includes/product_card.html -->
<div class="card product-card h-100">
    {% if produit.image_principale %}
        <img src="{{ produit.image_principale.url }}" class="card-img-top" alt="{{ produit.nom }}" style="height: 200px; object-fit: cover;">
    {% else %}
        <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
            <i class="fas fa-image fa-3x text-muted"></i>
        </div>
    {% endif %}
    
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ produit.nom }}</h5>
        <p class="card-text text-muted small">{{ produit.description|truncatewords:10 }}</p>
        
        <div class="mt-auto">
            <div class="d-flex justify-content-between align-items-center mb-2">
                {% if produit.prix_promo %}
                    <span class="text-decoration-line-through text-muted">{{ produit.prix }}€</span>
                    <span class="h5 text-danger mb-0">{{ produit.prix_promo }}€</span>
                {% else %}
                    <span class="h5 text-primary mb-0">{{ produit.prix }}€</span>
                {% endif %}
            </div>
            
            {% if produit.stock > 0 %}
                <a href="{% url 'boutique:detail_produit' produit.pk %}" class="btn btn-primary w-100">
                    <i class="fas fa-eye"></i> Voir détails
                </a>
            {% else %}
                <button class="btn btn-secondary w-100" disabled>
                    <i class="fas fa-times"></i> Rupture de stock
                </button>
            {% endif %}
        </div>
    </div>
</div>